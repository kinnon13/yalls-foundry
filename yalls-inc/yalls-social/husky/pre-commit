#!/bin/sh
# Role: Husky pre-commit hook - validate viral scores and lint social code
# Path: yalls-inc/yalls-social/husky/pre-commit

echo "ğŸ” Yalls Social pre-commit checks..."

# Lint only yalls-social files
npx eslint yalls-inc/yalls-social/src/**/*.{ts,tsx} --max-warnings 0

if [ $? -ne 0 ]; then
  echo "âŒ Yalls Social lint failed"
  exit 1
fi

# Type check
npx tsc --noEmit --project yalls-inc/yalls-social/tsconfig.json

if [ $? -ne 0 ]; then
  echo "âŒ Yalls Social type check failed"
  exit 1
fi

# Validate viral scoring logic (stub)
echo "ğŸ“Š Validating viral score calculations..."

echo "âœ… Yalls Social pre-commit passed"
