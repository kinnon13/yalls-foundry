#!/bin/sh
# Role: Husky pre-commit hook - lint and validate Yallbrary pins
# Path: yalls-inc/yallbrary/husky/pre-commit

echo "ğŸ” Yallbrary pre-commit checks..."

# Lint only yallbrary files
npx eslint yalls-inc/yallbrary/src/**/*.{ts,tsx} --max-warnings 0

if [ $? -ne 0 ]; then
  echo "âŒ Yallbrary lint failed"
  exit 1
fi

# Type check
npx tsc --noEmit --project yalls-inc/yallbrary/tsconfig.json

if [ $? -ne 0 ]; then
  echo "âŒ Yallbrary type check failed"
  exit 1
fi

echo "âœ… Yallbrary pre-commit passed"
